<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Qr scanner</title>
  <!-- Font Awesome -->
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.1/css/mdb.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome-animation/0.0.10/font-awesome-animation.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <style>
    main {
      padding-top: 3rem;
      padding-bottom: 2rem;
    }
    .extra-margins {
      margin-top: 1rem;
      margin-bottom: 2.5rem;
    }
  </style>


</head>

<body>

  <!--Main Navigation-->
  <header>


    <nav class="navbar navbar-expand-lg navbar-dark success-color-dark">
      <a class="navbar-brand" href="#"><strong>Scan qr to see value of qr code</strong></a>
      
        <ul class="navbar-nav">
          <li class="nav-item active">
             <a class="nav-link" href="/pending-transactions">Back <span class="sr-only">(current)</span></a>
          </li>
        </ul>
     
    </nav>

  </header>
  <!--Main Navigation-->

  <main>

    <!--Main layout-->
    <div class="container">
      <!--First row-->
      <div class="row">
        <div class="col-md-12">
          <!--Featured image -->
          <div align="center">
            <video id="preview"></video>
            <div class="mask">
            </div>
          </div>
          <br>
        </div>
      </div>

      <!--/.First row-->
      <hr class="extra-margins">

     
    </div>
    <!--/.Main layout-->

  </main>


  <!-- SCRIPTS -->
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.1/js/mdb.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
  
  <script>
    wow = new WOW().init();
  </script>

  <script type="text/javascript">
    let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
    scanner.addListener('scan', function (content) {
      alert(content);
        
    });
    Instascan.Camera.getCameras().then(function (cameras) {
      if (cameras.length > 0) {
        if(cameras.length >1){
          scanner.start(cameras[1]);
        }
        scanner.start(cameras[0]);
      } else {
        //console.error('No cameras found.');
        alert("No cameras found");
      }
    }).catch(function (e) {
      console.error(e);
    });
  </script>
  
</body>

</html>
